---
title: "Fetching forms from Google Drive"
linkTitle: "Fetching forms from Google Drive"
weight: 
description: >
  Using medic-conf to obtain form files stored in Google Drive
relatedContent: >
  apps/guides/forms/
---


To work collaboratively on form design it can be helpful to keep XLSForms in Google Drive. The `fetch-forms-from-google-drive` action downloads these XLSForms so that they can be converted to XForms and uploaded to your CHT app. 

This action requires the following files in the top-level folder of your CHT app config: `forms-on-google-drive.json` and  `.gdrive.secrets.json`. 



## forms-on-google-drive.json 

This JSON file contains key value pairs, where the key is the relative path and name for the downloaded file, and the value is the file's Google Drive File ID. 

To get the ID for the form. Open the form in google sheets. The URL will look like this https://docs.google.com/spreadsheets/d/12345ABCDEF/edit#gid=555666888 . The ID is the middle portion `12345ABCDEF`

```json
{
  "app/sample_report.xlsx": "12345ABCDEF",
  "contact/person-create.xlsx": "ABCDEF123456",
}
```

## .gdrive.secrets.json

This file contains authentication secrets that are generated by enabling access to your drive using these [instructions](https://developers.google.com/drive/api/v3/about-auth)



```json
{
		"client_id": "your_client_id",
		"project_id": "your_project_id",
		"auth_uri": "https://accounts.google.com/o/oauth2/auth",
		"token_uri": "https://accounts.google.com/o/oauth2/token",
		"auth_provider_x509_cert_url": "https://www.googleapis.com/oauth2/v1/certs",
		"client_secret": "your_client_secret",
		"redirect_uris": ["your_redirect_uris", "http://localhost"]
}
```

## Run the Medic Conf Action

With the files in place. Run `medic-conf fetch-forms-from-google-drive`

Medic-conf will then prompt for an access code from your authenticated user. Follow the prompts through google's authentication and copy the access code into your command line. The forms will then be copied to the forms folder in the directory you are executing from. 

*Note: If the browser does not launch own its own. Copy the URL and paste the authentication url into a browser and then follow the prompts.*
